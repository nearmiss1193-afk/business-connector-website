{
  "version": "5",
  "dialect": "mysql",
  "id": "a6f02850-c6cc-4b55-a020-979af21aa3d7",
  "prevId": "428dddfc-d6a8-45f0-b086-d23f0de9f5df",
  "tables": {
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "mls_sync_log": {
      "name": "mls_sync_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sync_type": {
          "name": "sync_type",
          "type": "enum('full','incremental')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('started','completed','failed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "properties_added": {
          "name": "properties_added",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "properties_updated": {
          "name": "properties_updated",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "properties_removed": {
          "name": "properties_removed",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_details": {
          "name": "error_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "source_idx": {
          "name": "source_idx",
          "columns": [
            "source"
          ],
          "isUnique": false
        },
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "mls_sync_log_id": {
          "name": "mls_sync_log_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "properties": {
      "name": "properties",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "mls_id": {
          "name": "mls_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "listing_id": {
          "name": "listing_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "state": {
          "name": "state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'FL'"
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "county": {
          "name": "county",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bedrooms": {
          "name": "bedrooms",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bathrooms": {
          "name": "bathrooms",
          "type": "decimal(3,1)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sqft": {
          "name": "sqft",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lot_size": {
          "name": "lot_size",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "year_built": {
          "name": "year_built",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "property_type": {
          "name": "property_type",
          "type": "enum('single_family','condo','townhouse','multi_family','land','commercial','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "listing_status": {
          "name": "listing_status",
          "type": "enum('active','pending','sold','off_market','coming_soon')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "listing_date": {
          "name": "listing_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sold_date": {
          "name": "sold_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "days_on_market": {
          "name": "days_on_market",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "features": {
          "name": "features",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amenities": {
          "name": "amenities",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "primary_image": {
          "name": "primary_image",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "has_virtual_tour": {
          "name": "has_virtual_tour",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "virtual_tour_url": {
          "name": "virtual_tour_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "video_url": {
          "name": "video_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latitude": {
          "name": "latitude",
          "type": "decimal(10,7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "longitude": {
          "name": "longitude",
          "type": "decimal(10,7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "neighborhood": {
          "name": "neighborhood",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "elementary_school": {
          "name": "elementary_school",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "middle_school": {
          "name": "middle_school",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "high_school": {
          "name": "high_school",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "school_district": {
          "name": "school_district",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "has_hoa": {
          "name": "has_hoa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "hoa_fee": {
          "name": "hoa_fee",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hoa_frequency": {
          "name": "hoa_frequency",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "parking": {
          "name": "parking",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "garage": {
          "name": "garage",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stories": {
          "name": "stories",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pool": {
          "name": "pool",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "waterfront": {
          "name": "waterfront",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "listing_agent_name": {
          "name": "listing_agent_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "listing_agent_phone": {
          "name": "listing_agent_phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "listing_agent_email": {
          "name": "listing_agent_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "listing_brokerage": {
          "name": "listing_brokerage",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "verification_status": {
          "name": "verification_status",
          "type": "enum('active','off_market','flagged','reported','verified')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "flagged_reason": {
          "name": "flagged_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "flagged_at": {
          "name": "flagged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "flagged_by": {
          "name": "flagged_by",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "city_idx": {
          "name": "city_idx",
          "columns": [
            "city"
          ],
          "isUnique": false
        },
        "price_idx": {
          "name": "price_idx",
          "columns": [
            "price"
          ],
          "isUnique": false
        },
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "listing_status"
          ],
          "isUnique": false
        },
        "bedrooms_idx": {
          "name": "bedrooms_idx",
          "columns": [
            "bedrooms"
          ],
          "isUnique": false
        },
        "bathrooms_idx": {
          "name": "bathrooms_idx",
          "columns": [
            "bathrooms"
          ],
          "isUnique": false
        },
        "property_type_idx": {
          "name": "property_type_idx",
          "columns": [
            "property_type"
          ],
          "isUnique": false
        },
        "mls_id_idx": {
          "name": "mls_id_idx",
          "columns": [
            "mls_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "properties_id": {
          "name": "properties_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "properties_mls_id_unique": {
          "name": "properties_mls_id_unique",
          "columns": [
            "mls_id"
          ]
        }
      },
      "checkConstraint": {}
    },
    "property_images": {
      "name": "property_images",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "property_id": {
          "name": "property_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "image_url": {
          "name": "image_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "caption": {
          "name": "caption",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "order": {
          "name": "order",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "property_id_idx": {
          "name": "property_id_idx",
          "columns": [
            "property_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "property_images_id": {
          "name": "property_images_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "property_views": {
      "name": "property_views",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "property_id": {
          "name": "property_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "property_id_idx": {
          "name": "property_id_idx",
          "columns": [
            "property_id"
          ],
          "isUnique": false
        },
        "session_id_idx": {
          "name": "session_id_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "property_views_id": {
          "name": "property_views_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}