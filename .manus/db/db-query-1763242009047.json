{
  "query": "SELECT \n  p.source,\n  COUNT(*) as total_properties,\n  COUNT(DISTINCT CASE WHEN pi.id IS NOT NULL THEN p.id END) as properties_with_images,\n  COUNT(pi.id) as total_images\nFROM properties p\nLEFT JOIN property_images pi ON p.id = pi.property_id\nGROUP BY p.source;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2keGdn6fwLYaSZ6.229283a86c70 --database 4KtxBXcBzp6DmAsnEmQ3Tt --execute SELECT \n  p.source,\n  COUNT(*) as total_properties,\n  COUNT(DISTINCT CASE WHEN pi.id IS NOT NULL THEN p.id END) as properties_with_images,\n  COUNT(pi.id) as total_images\nFROM properties p\nLEFT JOIN property_images pi ON p.id = pi.property_id\nGROUP BY p.source;",
  "rows": [
    {
      "source": "sample",
      "total_properties": "4",
      "properties_with_images": "0",
      "total_images": "0"
    },
    {
      "source": "realty_in_us",
      "total_properties": "56293",
      "properties_with_images": "54328",
      "total_images": "54328"
    },
    {
      "source": "zillow",
      "total_properties": "35633",
      "properties_with_images": "861",
      "total_images": "35633"
    }
  ],
  "messages": [],
  "stdout": "source\ttotal_properties\tproperties_with_images\ttotal_images\nsample\t4\t0\t0\nrealty_in_us\t56293\t54328\t54328\nzillow\t35633\t861\t35633\n",
  "stderr": "",
  "execution_time_ms": 106
}